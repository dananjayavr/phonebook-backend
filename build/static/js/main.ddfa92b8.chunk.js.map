{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","components/Error.js","services/contact.js","App.js","index.js"],"names":["Filter","props","onChange","handler","PersonForm","handlerNewName","value","nameValue","handlerNewNumber","numberValue","type","onClick","submitHandler","Person","person","name","number","deleteContact","Notification","message","className","Error","newObject","axios","post","then","response","data","id","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","get","event","target","preventDefault","latestName","find","ContactService","returnedContact","concat","setTimeout","map","i","toLowerCase","includes","key","window","confirm","filter","pop","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ddfa92b8.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = (props) => {\n    return (<div>\n        filter shown with <input onChange={props.handler}/>\n    </div>)\n}\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = (props) => {\n    return (\n        <form>\n            <div>\n                name: <input onChange={props.handlerNewName} value={props.nameValue} />\n            </div>\n            <div>\n                number: <input onChange={props.handlerNewNumber} value={props.numberValue} />\n            </div>\n            <div>\n                <button type=\"submit\" onClick={props.submitHandler}>add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react';\n\nconst Person = (props) => {\n    return (\n        <div>\n            <div>\n                {props.person.name} {props.person.number}\n                <button onClick={props.deleteContact}>delete</button>\n            </div>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\n\nconst Notification = ({message}) => {\n    if(message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst Error = ({message}) => {\n    if(message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Error","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteContact = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updateNumber = (id, updatedObject) => {\n    const request = axios.put(`${baseUrl}/${id}`,updatedObject)\n    return request.then(response => response.data)\n}\n\nexport default { create, deleteContact, updateNumber }","import React, { useState, useEffect } from 'react';\nimport axios from 'axios'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport ContactService from './services/contact'\n\nimport './index.css';\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [nameFilter, setNameFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const deleteContact = (id) => {\n    if(window.confirm(`Delete ${persons.filter(person => person.id === id).pop().name}?`)) {\n      ContactService\n      .deleteContact(id)\n      .then(response => {\n        setPersons(persons.map(person => person.id !== id ? person : {name:null,number:null,id:null}))\n      }).catch(error => {\n        setErrorMessage(`Information of ${persons.filter(person => person.id === id).pop().name} has already been removed from server`)\n      })\n    } else {\n\n    }\n  }\n\n  const hook = () => {\n    axios\n      .get('/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }\n\n  useEffect(hook,[])\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    const latestName = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.find(person => person.name === newName)) {\n      /* const personToUpdate = persons.map(person => {\n        if(person.name === newName) {\n          return {name:person.name,number:newNumber,id:person.id}\n        } else {\n          return null\n        }\n      }).filter(id => id !== null).pop()\n\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        ContactService\n          .updateNumber(personToUpdate.id, personToUpdate)\n          .then(returnedValue => {\n            persons.map((person,i) => {\n              console.log(i)\n              if(i === personToUpdate.id-1) {\n                person.number = newNumber\n                return true\n              } else {\n                return false\n              }\n            })\n            setPersons(persons)\n            setNotification(`Updated ${returnedValue.name}`)\n          }).catch(error => {\n            setErrorMessage(`Information of ${newName} has already been removed from server`)\n          })\n      } */\n    } else {\n      ContactService\n        .create(latestName)\n        .then(returnedContact => {\n          setPersons(persons.concat(returnedContact))\n          setNotification(`Added ${returnedContact.name}`)\n        })\n    }\n\n    setNewNumber('')\n    setNewName('')\n\n    setTimeout(() => {\n      setNotification(null)\n    }, 3000)\n  }\n\n  const handleAddNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleAddNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameFilter = (event) => {\n    setNameFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <Notification message={notification}/>\n      <Error message={errorMessage}/>\n      <h2>Phonebook</h2>\n      <Filter handler={handleNameFilter} />\n      <h2>add a new</h2>\n\n      <PersonForm\n        handlerNewName={handleAddNewName}\n        nameValue={newName}\n        handlerNewNumber={handleAddNewNumber}\n        numberValue={newNumber}\n        submitHandler={addNewPerson}\n      />\n\n      <h2>Numbers</h2>\n      {persons.map((person, i) => {\n        if(person.name !== null) {\n          if (person.name.toLowerCase().includes(nameFilter.toLowerCase())) {\n            return (\n              <Person person={person} key={i} deleteContact={() => deleteContact(person.id)}/>\n            )\n          } else {\n            return false\n          }\n        } else {\n          return false\n        }\n      })}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render( <App />, document.getElementById('root'));\n\n"],"sourceRoot":""}